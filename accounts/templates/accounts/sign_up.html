{% extends 'usalama_smart/base.html' %}
{% load static %}
{% load i18n %}
{% block title %}{% trans "Sign Up" %}{% endblock %}
{% block content %}
<div class="body2">
  <div class="signup-container">
    <h1>{% trans 'Create an Account' %}</h1>
    <form action="" method="POST">
      {% csrf_token %}
      
      <div class="input-group">
        <label for="{{ form.username.id_for_label }}">{{ form.username.label }}:</label>
        {{ form.username }}
      </div>
    
      <div class="input-group">
        <label for="{{ form.email.id_for_label }}">{{ form.email.label }}:</label>
        {{ form.email }}
      </div>
    
      <div class="input-group password-container">
        <label for="{{ form.password1.id_for_label }}">{{ form.password1.label }}:</label>
        {{ form.password1 }}
        <i class="fas fa-eye-slash toggle-password"></i>
      </div>
    
      <div class="input-group password-container">
        <label for="{{ form.password2.id_for_label }}">{{ form.password2.label }}:</label>
        {{ form.password2 }}
        <i class="fas fa-eye-slash toggle-password"></i>
      </div>

      {{ form.errors }}
      <button type="submit">{% trans 'Sign Up' %}</button>
    </form>
  </div>
</div>

<script>
    const togglePasswordIcons = document.querySelectorAll('.toggle-password');
    togglePasswordIcons.forEach(icon => {
        icon.addEventListener('click', function (e) {
            const passwordField = this.previousElementSibling;
            if (passwordField.type === 'password') {
                passwordField.type = 'text';
                this.classList.remove('fa-eye-slash');
                this.classList.add('fa-eye');
            } else {
                passwordField.type = ('password');
                this.classList.remove('fa-eye');
                this.classList.add('fa-eye-slash');
            }
        });
    });
</script>
{% endblock %}
